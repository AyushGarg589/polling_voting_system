<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vote Your Leader</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Neumorphism Variables */
    :root {
      --main-bg-color: #ebf5f9; 
      --text-color: #4a6c82;
      --shadow-light: #ffffff;
      --shadow-dark: #c8d8e7;
      --accent-blue: #007bff; /* Primary action color */
      --accent-green: #28a745; /* Submission color */
      --nota-color: #8c9fae; /* Neutral gray for NOTA */
    }

    /* Global Styles */
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: var(--main-bg-color);
      color: var(--text-color);
      padding: 40px 20px;
      min-height: 100vh;
      box-sizing: border-box;
    }
    
    /* Header Container for Logo and Title */
    .header-content {
      text-align: center;
      margin-bottom: 50px;
    }

    .header-content img {
      max-width: 120px; /* Adjust logo size as needed */
      height: auto;
      margin-bottom: 20px;
      /* Neumorphic shadow for the logo */
      box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
      border-radius: 50%; /* Optional: make logo round */
      padding: 10px; /* Space inside the logo shadow */
      background-color: var(--main-bg-color);
    }
    
    h1 {
      font-size: 32px;
      color: var(--accent-blue);
      font-weight: 700;
      text-shadow: 1px 1px 1px var(--shadow-light), -1px -1px 1px var(--shadow-dark);
      margin: 0; /* Reset default h1 margin */
    }
    
    form {
      max-width: 1400px; 
      margin: auto;
    }
    
    /* Candidate Card Container */
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
    }
    
    /* Candidate Card - Extruded Neumorphism */
    .candidate-card {
      background-color: var(--main-bg-color);
      border-radius: 20px;
      overflow: hidden;
      width: 300px; 
      box-shadow: 8px 8px 16px var(--shadow-dark), -8px -8px 16px var(--shadow-light);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
      cursor: pointer;
    }
    
    .candidate-card:hover {
      transform: translateY(-5px); 
      box-shadow: 12px 12px 24px var(--shadow-dark), -12px -12px 24px var(--shadow-light);
    }

    /* Selected State */
    .candidate-card.selected {
        box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        border: 2px solid var(--accent-blue); 
        transform: none;
    }
    .candidate-card.nota-card.selected {
        border: 2px solid var(--nota-color);
    }

    .photo {
      position: relative;
      height: 200px;
      background-size: cover;
      background-position: center;
      border-bottom: 1px solid var(--shadow-dark); 
    }
    .nota-card .photo {
        background-color: var(--nota-color);
        background-image: none !important;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 48px;
        font-weight: 700;
    }
    
    .name-overlay {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.7); 
      color: #333;
      text-align: center;
      padding: 10px;
      font-size: 18px;
      font-weight: 600;
      backdrop-filter: blur(2px);
    }
    .nota-card .name-overlay {
        display: none; 
    }
    
    .details {
      padding: 20px 15px;
      font-size: 15px;
      color: var(--text-color);
      min-height: 86px; 
    }
    
    .details p {
      margin: 8px 0;
    }
    
    .details strong {
      color: var(--accent-blue);
      font-weight: 600;
    }
    .nota-card .details strong {
        color: var(--nota-color);
    }
    
    /* Vote Button (Label) */
    .vote-btn {
      display: inline-block;
      margin: 15px auto 20px;
      padding: 10px 25px;
      background-color: var(--accent-blue);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 4px 4px 8px var(--shadow-dark), -4px -4px 8px var(--shadow-light);
      transition: all 0.2s ease;
    }
    
    .vote-btn:hover {
      background-color: #0069d9;
      box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
    }
    
    .vote-btn:active,
    .vote-btn:has(input:checked) { 
        background-color: #0056b3;
        box-shadow: inset 3px 3px 6px var(--shadow-dark), inset -3px -3px 6px var(--shadow-light);
        transform: scale(0.98);
    }
    
    /* NOTA Button specific coloring */
    .nota-card .vote-btn {
        background-color: var(--nota-color);
    }
    .nota-card .vote-btn:hover {
        background-color: #72818f;
    }
    .nota-card .vote-btn:active,
    .nota-card .vote-btn:has(input:checked) {
        background-color: #5c6d7b;
    }

    .vote-btn input[type="radio"] {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

    .confirmation {
      text-align: center;
      margin-top: 60px;
    }
    
    /* Final Submit Button */
    .submit-final {
      padding: 15px 40px;
      font-size: 18px;
      background-color: var(--accent-green);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
      transition: all 0.2s ease;
    }
    
    .submit-final:hover {
      background-color: #218838;
      box-shadow: 8px 8px 16px var(--shadow-dark), -8px -8px 16px var(--shadow-light);
    }

    .submit-final:active {
        background-color: #1e7e34;
        box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
        transform: scale(0.98);
    }
  </style>
</head>
<body>
  <div class="header-content">
    <img src="{{ url_for('static', filename='Votify_Logo.png') }}" alt="Votify Logo">
    <h1>Cast Your Vote</h1>
  </div>
  
  <form id="voteForm" action="{{ url_for('submit_vote') }}" method="post" onsubmit="return confirmVote();">
    <div class="card-container">

      <div class="candidate-card" id="card-modi">
        <div class="photo" style="background-image: url('https://th.bing.com/th/id/OIP.YHYqzq7INxKRpAoTyrpz2wHaE8?w=278&h=185&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3');">
          <div class="name-overlay">Narendra Modi</div>
        </div>
        <div class="details">
          <p><strong>Age:</strong> 75</p>
          <p><strong>Party:</strong> Bharatiya Janata Party</p>
        </div>
        <label class="vote-btn">
          <input type="radio" name="vote" value="modi" required onchange="updateCardSelection(this)" hidden />
          Vote for Modi
        </label>
      </div>

      <div class="candidate-card" id="card-rahul">
        <div class="photo" style="background-image: url('https://th.bing.com/th/id/OIP.98qmNNlQ68CWsg8Gk6g6_wHaEK?w=313&h=180&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3');">
          <div class="name-overlay">Rahul Gandhi</div>
        </div>
        <div class="details">
          <p><strong>Age:</strong> 55</p>
          <p><strong>Party:</strong> Indian National Congress</p>
        </div>
        <label class="vote-btn">
          <input type="radio" name="vote" value="rahul" required onchange="updateCardSelection(this)" hidden />
          Vote for Rahul
        </label>
      </div>

      <div class="candidate-card" id="card-mamata">
        <div class="photo" style="background-image: url('https://th.bing.com/th/id/OIP.7x2tEY_9CEvOP9bhXCsVegHaE8?w=263&h=180&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3');">
          <div class="name-overlay">Mamata Banerjee</div>
        </div>
        <div class="details">
          <p><strong>Age:</strong> 69</p>
          <p><strong>Party:</strong> Trinamool Congress</p>
        </div>
        <label class="vote-btn">
          <input type="radio" name="vote" value="mamata" required onchange="updateCardSelection(this)" hidden />
          Vote for Mamata
        </label>
      </div>
      
      <div class="candidate-card nota-card" id="card-nota">
        <div class="photo">
          NOTA
        </div>
        <div class="details">
          <p><strong>Selection:</strong> None of the Above</p>
          <p><strong>Purpose:</strong> Register your rejection of all candidates.</p>
        </div>
        <label class="vote-btn">
          <input type="radio" name="vote" value="nota" required onchange="updateCardSelection(this)" hidden />
          Vote NOTA
        </label>
      </div>

    </div>

    <div class="confirmation">
      <p style="color:var(--text-color); font-weight: 500;">âœ… Your selection is ready to be submitted.</p>
      <button class="submit-final" type="submit">Confirm & Submit Vote</button>
    </div>
  </form>

  <script>
    function updateCardSelection(radio) {
      const cards = document.querySelectorAll('.candidate-card');
      cards.forEach(card => card.classList.remove('selected', 'nota-card')); // Remove nota-card class on unselect

      if (radio.checked) {
        const selectedCard = radio.closest('.candidate-card');
        selectedCard.classList.add('selected');
        if (selectedCard.id === 'card-nota') {
            selectedCard.classList.add('nota-card'); // Re-add if NOTA
        }
      }
    }

    function confirmVote() {
      const selected = document.querySelector('input[name="vote"]:checked');
      if (selected) {
        let candidateName;
        if (selected.value === 'nota') {
            candidateName = "NOTA (None of the Above)";
        } else {
            candidateName = selected.value.charAt(0).toUpperCase() + selected.value.slice(1);
        }
        return confirm(`You are about to securely cast your vote for ${candidateName}. Are you absolutely sure?`);
      }
      alert("Please select a candidate before submitting.");
      return false;
    }
  </script>
</body>
</html>